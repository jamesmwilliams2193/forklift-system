<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta>
 
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 
 <title>
  Forklift Change Request System - Enhanced
 </title>
 <!-- External Libraries -->
 <script src="index_files/chart.umd.min.js">
 </script>
 <script src="index_files/index.min.js">
 </script>
 <script src="index_files/xlsx.full.min.js">
 </script>
 <script src="index_files/email.min.js">
 </script>
 <style>
  * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #1a1a1a;
            color: #ffffff;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: #000000;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(139, 0, 0, 0.5);
        }
        h1 {
            text-align: center;
            background: #8B0000;
            color: #ffffff;
            margin: -30px -30px 20px -30px;
            padding: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            border-radius: 15px 15px 0 0;
        }
        .subtitle {
            text-align: center;
            color: #cccccc;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #8B0000;
            flex-wrap: wrap;
        }
        .tab {
            padding: 15px 30px;
            background: #1a1a1a;
            border: 2px solid #8B0000;
            border-bottom: none;
            color: #ffffff;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            border-radius: 10px 10px 0 0;
        }
        .tab:hover {
            background: #8B0000;
        }
        .tab.active {
            background: #8B0000;
            color: #ffffff;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .form-section {
            background: #1a1a1a;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 25px;
            border: 2px solid #8B0000;
        }
        .section-title {
            color: #ff6666;
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #8B0000;
        }
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        .form-group {
            display: flex;
            flex-direction: column;
        }
        label {
            color: #ffffff;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        label .required {
            color: #ff6666;
        }
        input, select, textarea {
            padding: 12px;
            border: 2px solid #8B0000;
            border-radius: 5px;
            background: #000000;
            color: #ffffff;
            font-size: 1em;
            transition: all 0.3s ease;
        }
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #ff0000;
            box-shadow: 0 0 10px rgba(139, 0, 0, 0.5);
        }
        textarea {
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
        }
        button {
            padding: 12px 25px;
            background: #8B0000;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        button:hover {
            background: #ff0000;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 0, 0, 0.4);
        }
        button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }
        .info-box {
            background: rgba(139, 0, 0, 0.1);
            border-left: 4px solid #8B0000;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .info-box p {
            color: #cccccc;
            line-height: 1.6;
            margin: 5px 0;
        }
        /* Dashboard Styles */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .metric-card {
            background: #1a1a1a;
            border: 2px solid #8B0000;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }
        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(139, 0, 0, 0.3);
        }
        .metric-value {
            font-size: 2.5em;
            font-weight: 700;
            color: #ff6666;
            margin: 10px 0;
        }
        .metric-label {
            color: #ccc;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .metric-change {
            font-size: 0.85em;
            margin-top: 5px;
        }
        .metric-change.positive {
            color: #28a745;
        }
        .metric-change.negative {
            color: #dc3545;
        }
        /* Chart Containers */
        .chart-container {
            background: #1a1a1a;
            border: 2px solid #8B0000;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            position: relative;
        }
        .chart-wrapper {
            position: relative;
            height: 400px;
        }
        .chart-title {
            color: #ff6666;
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
        }
        /* Custom Report Builder */
        .report-builder {
            background: #1a1a1a;
            border: 2px solid #8B0000;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
        }
        .report-field {
            display: flex;
            align-items: center;
            padding: 10px;
            margin: 5px 0;
            background: #000;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .report-field:hover {
            background: #2a2a2a;
        }
        .report-field input[type="checkbox"] {
            margin-right: 10px;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        .report-preview {
            background: #000;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
            max-height: 400px;
            overflow-y: auto;
        }
        .report-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        /* Request Cards */
        .request-card {
            background: #000000;
            border: 2px solid #333;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        .request-card:hover {
            border-color: #8B0000;
            box-shadow: 0 5px 15px rgba(139, 0, 0, 0.3);
        }
        .request-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        .request-number {
            color: #ff6666;
            font-weight: 700;
            font-size: 1.3em;
        }
        .status-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 5px;
            font-size: 0.85em;
            font-weight: 600;
            text-transform: uppercase;
        }
        .status-submitted {
            background: #ffc107;
            color: #000;
        }
        .status-reviewed {
            background: #17a2b8;
            color: #fff;
        }
        .status-approved {
            background: #28a745;
            color: #fff;
        }
        .status-in-progress {
            background: #007bff;
            color: #fff;
            animation: pulse 2s infinite;
        }
        .status-completed {
            background: #6c757d;
            color: #fff;
        }
        .status-rejected {
            background: #dc3545;
            color: #fff;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        .request-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        .detail-item {
            color: #cccccc;
        }
        .detail-label {
            color: #999;
            font-size: 0.85em;
            text-transform: uppercase;
            margin-bottom: 3px;
        }
        .detail-value {
            font-weight: 600;
        }
        .request-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #333;
            flex-wrap: wrap;
        }
        .request-actions button {
            padding: 8px 16px;
            font-size: 0.9em;
        }
        .priority-high {
            border-left: 4px solid #dc3545;
        }
        .priority-medium {
            border-left: 4px solid #ffc107;
        }
        .priority-low {
            border-left: 4px solid #28a745;
        }
        .filters {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .filters select {
            flex: 1;
            min-width: 200px;
        }
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }
        .empty-icon {
            font-size: 4em;
            margin-bottom: 15px;
        }
        .success-message {
            background: #28a745;
            color: white;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
            margin-top: 20px;
            display: none;
            animation: slideIn 0.3s ease;
        }
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
        }
        .modal-content {
            background: #1a1a1a;
            border: 2px solid #8B0000;
            border-radius: 10px;
            max-width: 600px;
            margin: 50px auto;
            padding: 30px;
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .modal-title {
            color: #ff6666;
            font-size: 1.5em;
            font-weight: 600;
        }
        .close-modal {
            background: #dc3545;
            padding: 8px 16px;
            font-size: 0.9em;
        }
        .timeline {
            margin-top: 20px;
            padding-left: 20px;
            border-left: 2px solid #8B0000;
        }
        .timeline-item {
            margin-bottom: 20px;
            padding-left: 20px;
            position: relative;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -27px;
            top: 5px;
            width: 12px;
            height: 12px;
            background: #8B0000;
            border-radius: 50%;
            border: 2px solid #000;
        }
        .timeline-date {
            color: #999;
            font-size: 0.85em;
        }
        .timeline-content {
            color: #cccccc;
            margin-top: 5px;
        }
        .submit-section {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        .submit-section button {
            flex: 1;
        }
        .notification-badge {
            background: #dc3545;
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85em;
            font-weight: 600;
            margin-left: 10px;
        }
        /* Date Range Picker */
        .date-range-picker {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 20px;
        }
        .date-range-picker input {
            flex: 1;
        }
        /* Export Templates */
        .template-card {
            background: #000;
            border: 2px solid #333;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .template-card:hover {
            border-color: #8B0000;
            transform: translateX(5px);
        }
        .template-card.selected {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }
        .template-name {
            font-weight: 600;
            color: #ff6666;
            margin-bottom: 5px;
        }
        .template-description {
            font-size: 0.85em;
            color: #999;
        }
        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            .chart-wrapper {
                height: 300px;
            }
        }
 </style>
 </head><body><div class="container">
  <h1>
   üèóÔ∏è Forklift Change Request System
  </h1>
  <p class="subtitle">
   Advanced Analytics &amp; Custom Reporting
  </p>
            <div style="text-align: center; margin-bottom: 20px;">
                <span class="connection-status status-disconnected" id="connectionStatus">‚ö†Ô∏è Not Connected to Google Sheets</span>
                <button onclick="showSetupModal()" style="margin-left: 10px;">‚öôÔ∏è Setup Connection</button>
            </div>
        
  <div class="tabs">
   <div class="tab active" data-tab="dashboard">
    üìä Analytics Dashboard
   </div>
   <div class="tab" data-tab="new-request">
    üìù New Request
   </div>
   <div class="tab" data-tab="view-requests">
    üìã View All Requests
    <span id="notificationBadge" class="notification-badge" style="display: none;">
     0
    </span>
   </div>
   <div class="tab" data-tab="reports">
    üìà Custom Reports
   </div>
   <div class="tab" data-tab="my-alerts">
    üîî My Alerts
    <span id="alertBadge" class="notification-badge" style="display: none;">
     0
    </span>
   </div>
  </div>
  <!-- Analytics Dashboard Tab -->
  <div id="dashboard" class="tab-content active">
   <div class="date-range-picker">
    <label style="color: #fff;">
     Date Range:
    </label>
    <input type="date" id="dashboardStartDate" value="2025-10-10">
    <span style="color: #fff;">
     to
    </span>
    <input type="date" id="dashboardEndDate" value="2025-11-09">
    <button onclick="refreshDashboard()">
     üîÑ Refresh
    </button>
   </div>
   <div class="dashboard-grid" id="metricsGrid">
                <div class="metric-card">
                    <div class="metric-label">Total Requests</div>
                    <div class="metric-value">25</div>
                    <div class="metric-change positive">
                        ‚Üë 79% vs previous period
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Completed</div>
                    <div class="metric-value">3</div>
                    <div class="metric-change positive">
                        ‚Üë 50% vs previous period
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">In Progress</div>
                    <div class="metric-value">1</div>
                    <div class="metric-change" style="color: #17a2b8;">
                        4% of total
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">High Priority</div>
                    <div class="metric-value">11</div>
                    <div class="metric-change" style="color: #dc3545;">
                        44% of total
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Avg Completion Time</div>
                    <div class="metric-value">9</div>
                    <div class="metric-change" style="color: #ffc107;">
                        days (completed requests)
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Completion Rate</div>
                    <div class="metric-value">12%</div>
                    <div class="metric-change negative">
                        3 of 25 requests
                    </div>
                </div>
            </div>
   <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 25px;">
    <div class="chart-container">
     <div class="chart-title">
      Status Distribution
     </div>
     <div class="chart-wrapper">
      <canvas id="statusChart" style="display: block; box-sizing: border-box; height: 400px; width: 703px;" width="703" height="400">
      </canvas>
     </div>
    </div>
    <div class="chart-container">
     <div class="chart-title">
      Priority Breakdown
     </div>
     <div class="chart-wrapper">
      <canvas id="priorityChart" style="display: block; box-sizing: border-box; height: 400px; width: 703px;" width="703" height="400">
      </canvas>
     </div>
    </div>
   </div>
   <div class="chart-container">
    <div class="chart-title">
     Requests Over Time
    </div>
    <div class="chart-wrapper">
     <canvas id="timelineChart" style="display: block; box-sizing: border-box; height: 400px; width: 1486px;" width="1486" height="400">
     </canvas>
    </div>
   </div>
   <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 25px;">
    <div class="chart-container">
     <div class="chart-title">
      Department Distribution
     </div>
     <div class="chart-wrapper">
      <canvas id="departmentChart" style="display: block; box-sizing: border-box; height: 400px; width: 703px;" width="703" height="400">
      </canvas>
     </div>
    </div>
    <div class="chart-container">
     <div class="chart-title">
      Change Type Analysis
     </div>
     <div class="chart-wrapper">
      <canvas id="changeTypeChart" style="display: block; box-sizing: border-box; height: 400px; width: 703px;" width="703" height="400">
      </canvas>
     </div>
    </div>
   </div>
   <div class="chart-container">
    <div class="chart-title">
     Average Completion Time by Priority
    </div>
    <div class="chart-wrapper">
     <canvas id="completionTimeChart" style="display: block; box-sizing: border-box; height: 400px; width: 1486px;" width="1486" height="400">
     </canvas>
    </div>
   </div>
  </div>
  <!-- New Request Tab -->
  <div id="new-request" class="tab-content">
   <div class="info-box">
    <p>
     <strong>
      Purpose:
     </strong>
     Submit change requests for forklift modifications, engineering changes, or upgrades that require depot work.
    </p>
    <p>
     <strong>
      Process:
     </strong>
     Request ‚Üí Review ‚Üí Approval ‚Üí Depot Work ‚Üí Completion
    </p>
   </div>
   <!-- Requestor Details -->
   <div class="form-section">
    <div class="section-title">
     Requestor Information
    </div>
    <div class="form-grid">
     <div class="form-group">
      <label>
       Department
       <span class="required">
        *
       </span>
      </label>
      <select id="department" required="">
       <option value="" selected="selected">
        Select Department
       </option>
       <option value="sales">
        Sales
       </option>
       <option value="service">
        Service
       </option>
       <option value="engineering">
        Engineering
       </option>
       <option value="production">
        Production
       </option>
       <option value="quality">
        Quality Control
       </option>
       <option value="warranty">
        Warranty
       </option>
       <option value="customer-service">
        Customer Service
       </option>
      </select>
     </div>
     <div class="form-group">
      <label>
       Requestor Name
       <span class="required">
        *
       </span>
      </label>
      <input type="text" id="requestorName" required="">
     </div>
     <div class="form-group">
      <label>
       Email
       <span class="required">
        *
       </span>
      </label>
      <input type="email" id="requestorEmail" required="">
     </div>
     <div class="form-group">
      <label>
       Contact Number
      </label>
      <input type="tel" id="requestorPhone">
     </div>
    </div>
   </div>
   <!-- Forklift Details -->
   <div class="form-section">
    <div class="section-title">
     Forklift Information
    </div>
    <div class="form-grid">
     <div class="form-group">
      <label>
       Unit Number/Serial
       <span class="required">
        *
       </span>
      </label>
      <input type="text" id="unitNumber" required="">
     </div>
     <div class="form-group">
      <label>
       Model
       <span class="required">
        *
       </span>
      </label>
      <input type="text" id="model" required="">
     </div>
     <div class="form-group">
      <label>
       Customer Name
      </label>
      <input type="text" id="customerName">
     </div>
     <div class="form-group">
      <label>
       Current Location
      </label>
      <input type="text" id="currentLocation">
     </div>
    </div>
   </div>
   <!-- Change Request Details -->
   <div class="form-section">
    <div class="section-title">
     Change Request Details
    </div>
    <div class="form-grid">
     <div class="form-group">
      <label>
       Change Type
       <span class="required">
        *
       </span>
      </label>
      <select id="changeType" required="">
       <option value="" selected="selected">
        Select Change Type
       </option>
       <option value="modification">
        Modification/Upgrade
       </option>
       <option value="repair">
        Major Repair
       </option>
       <option value="safety">
        Safety Enhancement
       </option>
       <option value="recall">
        Recall/Technical Bulletin
       </option>
       <option value="warranty">
        Warranty Work
       </option>
       <option value="customization">
        Customer Customization
       </option>
      </select>
     </div>
     <div class="form-group">
      <label>
       Priority
       <span class="required">
        *
       </span>
      </label>
      <select id="priority" required="">
       <option value="" selected="selected">
        Select Priority
       </option>
       <option value="high">
        High - Safety/Urgent
       </option>
       <option value="medium">
        Medium - Standard
       </option>
       <option value="low">
        Low - Non-Critical
       </option>
      </select>
     </div>
     <div class="form-group">
      <label>
       Requires Depot Return?
       <span class="required">
        *
       </span>
      </label>
      <select id="requiresDepot" required="">
       <option value="yes" selected="selected">
        Yes - Must Return to Depot
       </option>
       <option value="no">
        No - Can be Done On-Site
       </option>
       <option value="tbd">
        To Be Determined
       </option>
      </select>
     </div>
    </div>
    <div class="form-group">
     <label>
      Change Description
      <span class="required">
       *
      </span>
     </label>
     <textarea id="changeDescription" placeholder="Describe the change/modification required in detail..." required="">     </textarea>
    </div>
    <div class="form-group">
     <label>
      Reason for Change
      <span class="required">
       *
      </span>
     </label>
     <textarea id="changeReason" placeholder="Why is this change necessary?" required="">     </textarea>
    </div>
   </div>
   <div class="submit-section">
    <button onclick="submitRequest()">
     üìù Submit Change Request
    </button>
    <button onclick="resetForm()" style="background: #6c757d;">
     üîÑ Clear Form
    </button>
   </div>
   <div class="success-message" id="successMessage">
    ‚úì Change request submitted successfully! Request number:
    <span id="successRequestNumber">
    </span>
   </div>
  </div>
  <!-- View Requests Tab -->
  <div id="view-requests" class="tab-content">
   <div class="filters">
    <select id="filterStatus" onchange="filterRequests()">
     <option value="all" selected="selected">
      All Statuses
     </option>
     <option value="submitted">
      Submitted
     </option>
     <option value="reviewed">
      Under Review
     </option>
     <option value="approved">
      Approved
     </option>
     <option value="in-progress">
      In Progress
     </option>
     <option value="completed">
      Completed
     </option>
     <option value="rejected">
      Rejected
     </option>
    </select>
    <select id="filterDepartment" onchange="filterRequests()">
     <option value="all" selected="selected">
      All Departments
     </option>
     <option value="sales">
      Sales
     </option>
     <option value="service">
      Service
     </option>
     <option value="engineering">
      Engineering
     </option>
     <option value="production">
      Production
     </option>
     <option value="quality">
      Quality Control
     </option>
     <option value="warranty">
      Warranty
     </option>
     <option value="customer-service">
      Customer Service
     </option>
    </select>
    <select id="filterPriority" onchange="filterRequests()">
     <option value="all" selected="selected">
      All Priorities
     </option>
     <option value="high">
      High Priority
     </option>
     <option value="medium">
      Medium Priority
     </option>
     <option value="low">
      Low Priority
     </option>
    </select>
   <button id="syncButton" style="background: rgb(40, 167, 69);">üîÑ Sync Now</button></div>
   <div id="requestsList">
                    <div class="request-card priority-medium">
                        <div class="request-header">
                            <div class="request-number">CR-1730000000</div>
                            <span class="status-badge status-reviewed">reviewed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0100</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Order Picker 1500</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SALES</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">MEDIUM</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #1</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000000')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000000')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000000')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000001</div>
                            <span class="status-badge status-submitted">submitted</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0101</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Order Picker 1500</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SERVICE</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #2</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000001')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000001')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000001')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000002</div>
                            <span class="status-badge status-completed">completed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0102</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">VNA 1200</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">WARRANTY</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #3</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000002')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000002')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000002')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-low">
                        <div class="request-header">
                            <div class="request-number">CR-1730000003</div>
                            <span class="status-badge status-submitted">submitted</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0103</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Reach Truck 2000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">PRODUCTION</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">LOW</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #4</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000003')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000003')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000003')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-medium">
                        <div class="request-header">
                            <div class="request-number">CR-1730000004</div>
                            <span class="status-badge status-submitted">submitted</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0104</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Counterbalance 3000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">WARRANTY</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">MEDIUM</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #5</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000004')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000004')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000004')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000005</div>
                            <span class="status-badge status-completed">completed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0105</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Pallet Jack 800</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">PRODUCTION</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #6</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000005')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000005')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000005')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-medium">
                        <div class="request-header">
                            <div class="request-number">CR-1730000006</div>
                            <span class="status-badge status-submitted">submitted</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0106</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Order Picker 1500</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">PRODUCTION</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">MEDIUM</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #7</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000006')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000006')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000006')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-low">
                        <div class="request-header">
                            <div class="request-number">CR-1730000007</div>
                            <span class="status-badge status-rejected">rejected</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0107</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Order Picker 1500</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">ENGINEERING</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">LOW</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #8</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000007')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000007')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000007')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000008</div>
                            <span class="status-badge status-approved">approved</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0108</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">VNA 1200</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SERVICE</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #9</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000008')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000008')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000008')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-low">
                        <div class="request-header">
                            <div class="request-number">CR-1730000009</div>
                            <span class="status-badge status-in-progress">in progress</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0109</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Reach Truck 2000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">PRODUCTION</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">LOW</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #10</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000009')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000009')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000009')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-low">
                        <div class="request-header">
                            <div class="request-number">CR-1730000010</div>
                            <span class="status-badge status-rejected">rejected</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0110</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Pallet Jack 800</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">QUALITY</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">LOW</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #11</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000010')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000010')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000010')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-medium">
                        <div class="request-header">
                            <div class="request-number">CR-1730000011</div>
                            <span class="status-badge status-approved">approved</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0111</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">VNA 1200</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">PRODUCTION</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">MEDIUM</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #12</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000011')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000011')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000011')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-low">
                        <div class="request-header">
                            <div class="request-number">CR-1730000012</div>
                            <span class="status-badge status-approved">approved</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0112</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">VNA 1200</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SERVICE</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">LOW</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #13</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000012')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000012')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000012')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000013</div>
                            <span class="status-badge status-in-progress">in progress</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0113</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Pallet Jack 800</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SERVICE</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #14</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000013')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000013')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000013')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-medium">
                        <div class="request-header">
                            <div class="request-number">CR-1730000014</div>
                            <span class="status-badge status-submitted">submitted</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0114</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Counterbalance 3000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">QUALITY</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">MEDIUM</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #15</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000014')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000014')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000014')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000015</div>
                            <span class="status-badge status-in-progress">in progress</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0115</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Pallet Jack 800</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">ENGINEERING</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #16</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000015')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000015')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000015')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000016</div>
                            <span class="status-badge status-approved">approved</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0116</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Pallet Jack 800</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">QUALITY</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #17</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000016')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000016')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000016')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000017</div>
                            <span class="status-badge status-completed">completed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0117</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Counterbalance 3000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">WARRANTY</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #18</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000017')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000017')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000017')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000018</div>
                            <span class="status-badge status-approved">approved</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0118</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">VNA 1200</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SALES</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #19</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000018')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000018')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000018')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000019</div>
                            <span class="status-badge status-approved">approved</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0119</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Pallet Jack 800</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">WARRANTY</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #20</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000019')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000019')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000019')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000020</div>
                            <span class="status-badge status-rejected">rejected</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0120</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Reach Truck 2000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SERVICE</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #21</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000020')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000020')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000020')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-low">
                        <div class="request-header">
                            <div class="request-number">CR-1730000021</div>
                            <span class="status-badge status-approved">approved</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0121</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Order Picker 1500</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SERVICE</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">LOW</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #22</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000021')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000021')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000021')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000022</div>
                            <span class="status-badge status-completed">completed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0122</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Reach Truck 2000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">ENGINEERING</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #23</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000022')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000022')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000022')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-medium">
                        <div class="request-header">
                            <div class="request-number">CR-1730000023</div>
                            <span class="status-badge status-rejected">rejected</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0123</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">VNA 1200</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">QUALITY</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">MEDIUM</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #24</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000023')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000023')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000023')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-medium">
                        <div class="request-header">
                            <div class="request-number">CR-1730000024</div>
                            <span class="status-badge status-submitted">submitted</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0124</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Pallet Jack 800</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">WARRANTY</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">MEDIUM</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #25</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000024')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000024')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000024')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000025</div>
                            <span class="status-badge status-completed">completed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0125</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Pallet Jack 800</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">PRODUCTION</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #26</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000025')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000025')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000025')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000026</div>
                            <span class="status-badge status-rejected">rejected</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0126</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Counterbalance 3000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">PRODUCTION</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #27</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000026')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000026')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000026')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-medium">
                        <div class="request-header">
                            <div class="request-number">CR-1730000027</div>
                            <span class="status-badge status-reviewed">reviewed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0127</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Pallet Jack 800</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SALES</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">MEDIUM</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #28</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000027')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000027')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000027')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000028</div>
                            <span class="status-badge status-submitted">submitted</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0128</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Counterbalance 3000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SERVICE</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #29</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000028')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000028')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000028')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000029</div>
                            <span class="status-badge status-in-progress">in progress</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0129</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Pallet Jack 800</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SALES</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #30</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000029')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000029')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000029')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000030</div>
                            <span class="status-badge status-reviewed">reviewed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0130</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">VNA 1200</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SERVICE</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #31</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000030')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000030')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000030')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-low">
                        <div class="request-header">
                            <div class="request-number">CR-1730000031</div>
                            <span class="status-badge status-submitted">submitted</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0131</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Counterbalance 3000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SALES</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">LOW</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #32</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000031')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000031')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000031')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-low">
                        <div class="request-header">
                            <div class="request-number">CR-1730000032</div>
                            <span class="status-badge status-completed">completed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0132</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Reach Truck 2000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">ENGINEERING</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">LOW</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #33</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000032')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000032')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000032')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000033</div>
                            <span class="status-badge status-reviewed">reviewed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0133</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Pallet Jack 800</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">WARRANTY</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #34</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000033')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000033')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000033')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-medium">
                        <div class="request-header">
                            <div class="request-number">CR-1730000034</div>
                            <span class="status-badge status-approved">approved</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0134</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Counterbalance 3000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">ENGINEERING</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">MEDIUM</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #35</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000034')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000034')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000034')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-low">
                        <div class="request-header">
                            <div class="request-number">CR-1730000035</div>
                            <span class="status-badge status-approved">approved</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0135</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Pallet Jack 800</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">ENGINEERING</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">LOW</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #36</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000035')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000035')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000035')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000036</div>
                            <span class="status-badge status-reviewed">reviewed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0136</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Order Picker 1500</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">ENGINEERING</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #37</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000036')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000036')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000036')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-low">
                        <div class="request-header">
                            <div class="request-number">CR-1730000037</div>
                            <span class="status-badge status-completed">completed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0137</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Counterbalance 3000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">WARRANTY</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">LOW</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #38</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000037')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000037')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000037')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-low">
                        <div class="request-header">
                            <div class="request-number">CR-1730000038</div>
                            <span class="status-badge status-reviewed">reviewed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0138</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Reach Truck 2000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SERVICE</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">LOW</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #39</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000038')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000038')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000038')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-low">
                        <div class="request-header">
                            <div class="request-number">CR-1730000039</div>
                            <span class="status-badge status-approved">approved</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0139</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Reach Truck 2000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">ENGINEERING</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">LOW</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #40</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000039')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000039')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000039')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-low">
                        <div class="request-header">
                            <div class="request-number">CR-1730000040</div>
                            <span class="status-badge status-rejected">rejected</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0140</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Order Picker 1500</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">ENGINEERING</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">LOW</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #41</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000040')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000040')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000040')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000041</div>
                            <span class="status-badge status-completed">completed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0141</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Order Picker 1500</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SALES</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #42</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000041')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000041')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000041')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000042</div>
                            <span class="status-badge status-submitted">submitted</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0142</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Counterbalance 3000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">PRODUCTION</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #43</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000042')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000042')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000042')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-medium">
                        <div class="request-header">
                            <div class="request-number">CR-1730000043</div>
                            <span class="status-badge status-completed">completed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0143</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">VNA 1200</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">WARRANTY</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">MEDIUM</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #44</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000043')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000043')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000043')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000044</div>
                            <span class="status-badge status-approved">approved</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0144</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Reach Truck 2000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">ENGINEERING</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #45</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000044')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000044')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000044')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000045</div>
                            <span class="status-badge status-approved">approved</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0145</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Reach Truck 2000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">WARRANTY</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #46</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000045')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000045')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000045')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000046</div>
                            <span class="status-badge status-in-progress">in progress</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0146</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">VNA 1200</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">WARRANTY</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #47</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000046')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000046')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000046')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-low">
                        <div class="request-header">
                            <div class="request-number">CR-1730000047</div>
                            <span class="status-badge status-completed">completed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0147</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">VNA 1200</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SERVICE</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">LOW</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #48</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000047')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000047')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000047')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-high">
                        <div class="request-header">
                            <div class="request-number">CR-1730000048</div>
                            <span class="status-badge status-rejected">rejected</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0148</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Reach Truck 2000</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">SERVICE</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">HIGH</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #49</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000048')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000048')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000048')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                
                    <div class="request-card priority-medium">
                        <div class="request-header">
                            <div class="request-number">CR-1730000049</div>
                            <span class="status-badge status-reviewed">reviewed</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">FL-2024-0149</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">Pallet Jack 800</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">WARRANTY</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">MEDIUM</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">Demo change request #50</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('CR-1730000049')">üìÑ View Details</button>
                            <button onclick="openStatusModal('CR-1730000049')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('CR-1730000049')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                </div>
  </div>
  <!-- Custom Reports Tab -->
  <div id="reports" class="tab-content">
   <div class="info-box">
    <p>
     <strong>
      Custom Report Builder:
     </strong>
     Select the fields you want to include in your report and choose an export format.
    </p>
    <p>
     <strong>
      Tip:
     </strong>
     Use pre-built templates for common reports, or create your own custom configuration.
    </p>
   </div>
   <div class="form-section">
    <div class="section-title">
     Report Templates
    </div>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
     <div class="template-card" onclick="selectTemplate('executive')">
      <div class="template-name">
       üìä Executive Summary
      </div>
      <div class="template-description">
       High-level overview with key metrics and trends
      </div>
     </div>
     <div class="template-card" onclick="selectTemplate('detailed')">
      <div class="template-name">
       üìã Detailed Full Report
      </div>
      <div class="template-description">
       Complete information for all requests
      </div>
     </div>
     <div class="template-card" onclick="selectTemplate('department')">
      <div class="template-name">
       üè¢ Department Analysis
      </div>
      <div class="template-description">
       Focus on department-specific data
      </div>
     </div>
     <div class="template-card" onclick="selectTemplate('timeline')">
      <div class="template-name">
       ‚è±Ô∏è Timeline &amp; Status
      </div>
      <div class="template-description">
       Track progress and completion times
      </div>
     </div>
    </div>
   </div>
   <div class="report-builder">
    <div class="section-title">
     Custom Field Selection
    </div>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 10px;">
     <div class="report-field" onclick="toggleReportField('id')">
      <input type="checkbox" id="field_id" checked="checked">
      <label for="field_id" style="cursor: pointer; text-transform: none;">
       Request ID
      </label>
     </div>
     <div class="report-field" onclick="toggleReportField('date')">
      <input type="checkbox" id="field_date" checked="checked">
      <label for="field_date" style="cursor: pointer; text-transform: none;">
       Date Submitted
      </label>
     </div>
     <div class="report-field" onclick="toggleReportField('status')">
      <input type="checkbox" id="field_status" checked="checked">
      <label for="field_status" style="cursor: pointer; text-transform: none;">
       Status
      </label>
     </div>
     <div class="report-field" onclick="toggleReportField('priority')">
      <input type="checkbox" id="field_priority" checked="checked">
      <label for="field_priority" style="cursor: pointer; text-transform: none;">
       Priority
      </label>
     </div>
     <div class="report-field" onclick="toggleReportField('department')">
      <input type="checkbox" id="field_department" checked="checked">
      <label for="field_department" style="cursor: pointer; text-transform: none;">
       Department
      </label>
     </div>
     <div class="report-field" onclick="toggleReportField('requestor')">
      <input type="checkbox" id="field_requestor" checked="checked">
      <label for="field_requestor" style="cursor: pointer; text-transform: none;">
       Requestor Name
      </label>
     </div>
     <div class="report-field" onclick="toggleReportField('email')">
      <input type="checkbox" id="field_email">
      <label for="field_email" style="cursor: pointer; text-transform: none;">
       Requestor Email
      </label>
     </div>
     <div class="report-field" onclick="toggleReportField('unitNumber')">
      <input type="checkbox" id="field_unitNumber" checked="checked">
      <label for="field_unitNumber" style="cursor: pointer; text-transform: none;">
       Unit Number
      </label>
     </div>
     <div class="report-field" onclick="toggleReportField('model')">
      <input type="checkbox" id="field_model" checked="checked">
      <label for="field_model" style="cursor: pointer; text-transform: none;">
       Model
      </label>
     </div>
     <div class="report-field" onclick="toggleReportField('customer')">
      <input type="checkbox" id="field_customer">
      <label for="field_customer" style="cursor: pointer; text-transform: none;">
       Customer Name
      </label>
     </div>
     <div class="report-field" onclick="toggleReportField('changeType')">
      <input type="checkbox" id="field_changeType" checked="checked">
      <label for="field_changeType" style="cursor: pointer; text-transform: none;">
       Change Type
      </label>
     </div>
     <div class="report-field" onclick="toggleReportField('description')">
      <input type="checkbox" id="field_description" checked="checked">
      <label for="field_description" style="cursor: pointer; text-transform: none;">
       Description
      </label>
     </div>
     <div class="report-field" onclick="toggleReportField('reason')">
      <input type="checkbox" id="field_reason">
      <label for="field_reason" style="cursor: pointer; text-transform: none;">
       Reason for Change
      </label>
     </div>
     <div class="report-field" onclick="toggleReportField('assignedTo')">
      <input type="checkbox" id="field_assignedTo">
      <label for="field_assignedTo" style="cursor: pointer; text-transform: none;">
       Assigned To
      </label>
     </div>
     <div class="report-field" onclick="toggleReportField('requiresDepot')">
      <input type="checkbox" id="field_requiresDepot">
      <label for="field_requiresDepot" style="cursor: pointer; text-transform: none;">
       Requires Depot
      </label>
     </div>
    </div>
   </div>
   <div class="form-section">
    <div class="section-title">
     Report Filters
    </div>
    <div class="form-grid">
     <div class="form-group">
      <label>
       Status Filter
      </label>
      <select id="reportFilterStatus">
       <option value="all" selected="selected">
        All Statuses
       </option>
       <option value="submitted">
        Submitted
       </option>
       <option value="reviewed">
        Under Review
       </option>
       <option value="approved">
        Approved
       </option>
       <option value="in-progress">
        In Progress
       </option>
       <option value="completed">
        Completed
       </option>
       <option value="rejected">
        Rejected
       </option>
      </select>
     </div>
     <div class="form-group">
      <label>
       Department Filter
      </label>
      <select id="reportFilterDepartment">
       <option value="all" selected="selected">
        All Departments
       </option>
       <option value="sales">
        Sales
       </option>
       <option value="service">
        Service
       </option>
       <option value="engineering">
        Engineering
       </option>
       <option value="production">
        Production
       </option>
       <option value="quality">
        Quality Control
       </option>
       <option value="warranty">
        Warranty
       </option>
       <option value="customer-service">
        Customer Service
       </option>
      </select>
     </div>
     <div class="form-group">
      <label>
       Priority Filter
      </label>
      <select id="reportFilterPriority">
       <option value="all" selected="selected">
        All Priorities
       </option>
       <option value="high">
        High Priority
       </option>
       <option value="medium">
        Medium Priority
       </option>
       <option value="low">
        Low Priority
       </option>
      </select>
     </div>
     <div class="form-group">
      <label>
       Date From
      </label>
      <input type="date" id="reportDateFrom">
     </div>
     <div class="form-group">
      <label>
       Date To
      </label>
      <input type="date" id="reportDateTo">
     </div>
    </div>
   </div>
   <div class="report-actions">
    <button onclick="generateCustomReport('excel')" style="background: #28a745;">
     üìä Export to Excel
    </button>
    <button onclick="generateCustomReport('csv')" style="background: #17a2b8;">
     üìÑ Export to CSV
    </button>
    <button onclick="generateCustomReport('pdf')" style="background: #dc3545;">
     üìï Export to PDF (Coming Soon)
    </button>
    <button onclick="previewReport()" style="background: #6c757d;">
     üëÅÔ∏è Preview Report
    </button>
   </div>
   <div id="reportPreview" style="display: none;">
    <div class="report-preview" id="reportPreviewContent">
    </div>
   </div>
  </div>
  <!-- My Alerts Tab -->
  <div id="my-alerts" class="tab-content">
   <div class="info-box">
    <p>
     <strong>
      About Alerts:
     </strong>
     You will be notified when a change request is assigned to your department or to you personally.
    </p>
   </div>
   <div id="alertsList">
   </div>
  </div>
 </div>
 <!-- Modals -->
 <div id="statusModal" class="modal">
  <div class="modal-content">
   <div class="modal-header">
    <h2 class="modal-title">
     Update Request Status
    </h2>
    <button class="close-modal" onclick="closeModal()">
     Close
    </button>
   </div>
   <div class="form-group">
    <label>
     New Status
     <span class="required">
      *
     </span>
    </label>
    <select id="modalStatus">
     <option value="submitted" selected="selected">
      Submitted
     </option>
     <option value="reviewed">
      Under Review
     </option>
     <option value="approved">
      Approved
     </option>
     <option value="in-progress">
      In Progress
     </option>
     <option value="completed">
      Completed
     </option>
     <option value="rejected">
      Rejected
     </option>
    </select>
   </div>
   <div class="form-group">
    <label>
     Assigned To
    </label>
    <input type="text" id="modalAssignedTo" placeholder="Name of person handling this">
   </div>
   <div class="form-group">
    <label>
     Update Notes
     <span class="required">
      *
     </span>
    </label>
    <textarea id="modalNotes" placeholder="Add notes about this status update..." required="">    </textarea>
   </div>
   <button onclick="saveStatusUpdate()" style="width: 100%; margin-top: 15px;">
    Save Update
   </button>
  </div>
 </div>
 <div id="detailsModal" class="modal">
  <div class="modal-content" style="max-width: 800px;">
   <div class="modal-header">
    <h2 class="modal-title">
     Request Details
    </h2>
    <button class="close-modal" onclick="closeDetailsModal()">
     Close
    </button>
   </div>
   <div id="detailsContent">
   </div>
  </div>
 </div>
 <script>
  // Global Variables
        let changeRequests = [];
        let currentEditId = null;
        let userAlerts = [];
        let charts = {};
        // Initialize with demo data
        function initializeDemoData() {
            const stored = localStorage.getItem('changeRequests');
            if (!stored) {
                // Generate demo data for the last 90 days
                changeRequests = generateDemoData();
                saveRequests();
            } else {
                changeRequests = JSON.parse(stored);
            }
            // Load alerts
            const storedAlerts = localStorage.getItem('userAlerts');
            if (storedAlerts) {
                userAlerts = JSON.parse(storedAlerts);
            }
            renderRequests();
            initializeDashboard();
        }
        function generateDemoData() {
            const statuses = ['submitted', 'reviewed', 'approved', 'in-progress', 'completed', 'rejected'];
            const priorities = ['high', 'medium', 'low'];
            const departments = ['sales', 'service', 'engineering', 'production', 'quality', 'warranty'];
            const changeTypes = ['modification', 'repair', 'safety', 'recall', 'warranty', 'customization'];
            const models = ['VNA 1200', 'Reach Truck 2000', 'Counterbalance 3000', 'Order Picker 1500', 'Pallet Jack 800'];
            const requests = [];
            const today = new Date();
            for (let i = 0; i < 50; i++) {
                const daysAgo = Math.floor(Math.random() * 90);
                const requestDate = new Date(today);
                requestDate.setDate(requestDate.getDate() - daysAgo);
                const status = statuses[Math.floor(Math.random() * statuses.length)];
                const priority = priorities[Math.floor(Math.random() * priorities.length)];
                const department = departments[Math.floor(Math.random() * departments.length)];
                const request = {
                    id: 'CR-' + (1730000000 + i),
                    date: requestDate.toISOString().split('T')[0],
                    department: department,
                    requestor: 'User ' + (i + 1),
                    email: `user${i + 1}@company.com`,
                    unitNumber: 'FL-2024-' + String(100 + i).padStart(4, '0'),
                    model: models[Math.floor(Math.random() * models.length)],
                    customer: 'Customer ' + String.fromCharCode(65 + (i % 26)),
                    changeType: changeTypes[Math.floor(Math.random() * changeTypes.length)],
                    priority: priority,
                    status: status,
                    assignedTo: status !== 'submitted' ? 'Technician ' + ((i % 5) + 1) : '',
                    description: 'Demo change request #' + (i + 1),
                    reason: 'Demo reason for request #' + (i + 1),
                    requiresDepot: Math.random() > 0.3 ? 'yes' : 'no',
                    updates: [
                        {
                            date: requestDate.toISOString().split('T')[0],
                            status: 'submitted',
                            note: 'Initial request submitted',
                            user: 'User ' + (i + 1)
                        }
                    ]
                };
                // Add completion date for completed requests
                if (status === 'completed') {
                    const completionDate = new Date(requestDate);
                    completionDate.setDate(completionDate.getDate() + Math.floor(Math.random() * 30) + 1);
                    request.completedDate = completionDate.toISOString().split('T')[0];
                }
                requests.push(request);
            }
            return requests;
        }
        function saveRequests() {
            localStorage.setItem('changeRequests', JSON.stringify(changeRequests));
        }
        function saveAlerts() {
            localStorage.setItem('userAlerts', JSON.stringify(userAlerts));
        }
        // Tab Management
        function switchTab(tabId) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            const targetTab = document.querySelector(`.tab[data-tab="${tabId}"]`);
            if (targetTab) {
                targetTab.classList.add('active');
            }
            const targetContent = document.getElementById(tabId);
            if (targetContent) {
                targetContent.classList.add('active');
            }
            if (tabId === 'dashboard') {
                refreshDashboard();
            } else if (tabId === 'view-requests') {
                renderRequests();
            } else if (tabId === 'reports') {
                // Reports tab opened
            } else if (tabId === 'my-alerts') {
                renderAlerts();
            }
        }
        function initializeTabs() {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    switchTab(tabId);
                });
            });
        }
        // Dashboard Functions
        function initializeDashboard() {
            // Set default date range (last 30 days)
            const today = new Date();
            const thirtyDaysAgo = new Date(today);
            thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
            document.getElementById('dashboardStartDate').value = thirtyDaysAgo.toISOString().split('T')[0];
            document.getElementById('dashboardEndDate').value = today.toISOString().split('T')[0];
            refreshDashboard();
        }
        function refreshDashboard() {
            const startDate = document.getElementById('dashboardStartDate').value;
            const endDate = document.getElementById('dashboardEndDate').value;
            let filteredRequests = changeRequests;
            if (startDate && endDate) {
                filteredRequests = changeRequests.filter(req => {
                    return req.date >= startDate && req.date <= endDate;
                });
            }
            renderMetrics(filteredRequests);
            renderCharts(filteredRequests);
        }
        function renderMetrics(requests) {
            const metricsGrid = document.getElementById('metricsGrid');
            const totalRequests = requests.length;
            const completedRequests = requests.filter(r => r.status === 'completed').length;
            const inProgressRequests = requests.filter(r => r.status === 'in-progress').length;
            const highPriorityRequests = requests.filter(r => r.priority === 'high').length;
            const avgCompletionTime = calculateAvgCompletionTime(requests);
            // Calculate trends (compare to previous period)
            const periodLength = (new Date(document.getElementById('dashboardEndDate').value) - 
                                new Date(document.getElementById('dashboardStartDate').value)) / (1000 * 60 * 60 * 24);
            const previousStartDate = new Date(document.getElementById('dashboardStartDate').value);
            previousStartDate.setDate(previousStartDate.getDate() - periodLength);
            const previousEndDate = new Date(document.getElementById('dashboardStartDate').value);
            const previousRequests = changeRequests.filter(req => {
                return req.date >= previousStartDate.toISOString().split('T')[0] && 
                       req.date < previousEndDate.toISOString().split('T')[0];
            });
            const totalTrend = calculateTrend(totalRequests, previousRequests.length);
            const completedTrend = calculateTrend(completedRequests, previousRequests.filter(r => r.status === 'completed').length);
            metricsGrid.innerHTML = `
                <div class="metric-card">
                    <div class="metric-label">Total Requests</div>
                    <div class="metric-value">${totalRequests}</div>
                    <div class="metric-change ${totalTrend >= 0 ? 'positive' : 'negative'}">
                        ${totalTrend >= 0 ? '‚Üë' : '‚Üì'} ${Math.abs(totalTrend)}% vs previous period
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Completed</div>
                    <div class="metric-value">${completedRequests}</div>
                    <div class="metric-change ${completedTrend >= 0 ? 'positive' : 'negative'}">
                        ${completedTrend >= 0 ? '‚Üë' : '‚Üì'} ${Math.abs(completedTrend)}% vs previous period
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">In Progress</div>
                    <div class="metric-value">${inProgressRequests}</div>
                    <div class="metric-change" style="color: #17a2b8;">
                        ${((inProgressRequests / totalRequests) * 100).toFixed(0)}% of total
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">High Priority</div>
                    <div class="metric-value">${highPriorityRequests}</div>
                    <div class="metric-change" style="color: #dc3545;">
                        ${((highPriorityRequests / totalRequests) * 100).toFixed(0)}% of total
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Avg Completion Time</div>
                    <div class="metric-value">${avgCompletionTime}</div>
                    <div class="metric-change" style="color: #ffc107;">
                        days (completed requests)
                    </div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Completion Rate</div>
                    <div class="metric-value">${((completedRequests / totalRequests) * 100).toFixed(0)}%</div>
                    <div class="metric-change ${completedRequests / totalRequests > 0.5 ? 'positive' : 'negative'}">
                        ${completedRequests} of ${totalRequests} requests
                    </div>
                </div>
            `;
        }
        function calculateTrend(current, previous) {
            if (previous === 0) return 0;
            return Math.round(((current - previous) / previous) * 100);
        }
        function calculateAvgCompletionTime(requests) {
            const completedRequests = requests.filter(r => r.status === 'completed' && r.completedDate);
            if (completedRequests.length === 0) return 0;
            const totalDays = completedRequests.reduce((sum, req) => {
                const start = new Date(req.date);
                const end = new Date(req.completedDate);
                const days = Math.round((end - start) / (1000 * 60 * 60 * 24));
                return sum + days;
            }, 0);
            return Math.round(totalDays / completedRequests.length);
        }
        function renderCharts(requests) {
            renderStatusChart(requests);
            renderPriorityChart(requests);
            renderTimelineChart(requests);
            renderDepartmentChart(requests);
            renderChangeTypeChart(requests);
            renderCompletionTimeChart(requests);
        }
        function renderStatusChart(requests) {
            const ctx = document.getElementById('statusChart').getContext('2d');
            const statusCounts = {
                'submitted': requests.filter(r => r.status === 'submitted').length,
                'reviewed': requests.filter(r => r.status === 'reviewed').length,
                'approved': requests.filter(r => r.status === 'approved').length,
                'in-progress': requests.filter(r => r.status === 'in-progress').length,
                'completed': requests.filter(r => r.status === 'completed').length,
                'rejected': requests.filter(r => r.status === 'rejected').length
            };
            if (charts.statusChart) {
                charts.statusChart.destroy();
            }
            charts.statusChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Submitted', 'Under Review', 'Approved', 'In Progress', 'Completed', 'Rejected'],
                    datasets: [{
                        data: Object.values(statusCounts),
                        backgroundColor: [
                            '#ffc107',
                            '#17a2b8',
                            '#28a745',
                            '#007bff',
                            '#6c757d',
                            '#dc3545'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#ffffff',
                                padding: 15
                            }
                        }
                    }
                }
            });
        }
        function renderPriorityChart(requests) {
            const ctx = document.getElementById('priorityChart').getContext('2d');
            const priorityCounts = {
                'high': requests.filter(r => r.priority === 'high').length,
                'medium': requests.filter(r => r.priority === 'medium').length,
                'low': requests.filter(r => r.priority === 'low').length
            };
            if (charts.priorityChart) {
                charts.priorityChart.destroy();
            }
            charts.priorityChart = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: ['High', 'Medium', 'Low'],
                    datasets: [{
                        data: Object.values(priorityCounts),
                        backgroundColor: ['#dc3545', '#ffc107', '#28a745']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#ffffff',
                                padding: 15
                            }
                        }
                    }
                }
            });
        }
        function renderTimelineChart(requests) {
            const ctx = document.getElementById('timelineChart').getContext('2d');
            // Group requests by date
            const dateGroups = {};
            requests.forEach(req => {
                if (!dateGroups[req.date]) {
                    dateGroups[req.date] = 0;
                }
                dateGroups[req.date]++;
            });
            // Sort dates
            const sortedDates = Object.keys(dateGroups).sort();
            const counts = sortedDates.map(date => dateGroups[date]);
            if (charts.timelineChart) {
                charts.timelineChart.destroy();
            }
            charts.timelineChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: sortedDates,
                    datasets: [{
                        label: 'Requests Submitted',
                        data: counts,
                        borderColor: '#ff6666',
                        backgroundColor: 'rgba(255, 102, 102, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: '#ffffff'
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#ffffff',
                                stepSize: 1
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#ffffff',
                                maxRotation: 45,
                                minRotation: 45
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    }
                }
            });
        }
        function renderDepartmentChart(requests) {
            const ctx = document.getElementById('departmentChart').getContext('2d');
            const departments = ['sales', 'service', 'engineering', 'production', 'quality', 'warranty', 'customer-service'];
            const deptCounts = departments.map(dept => requests.filter(r => r.department === dept).length);
            if (charts.departmentChart) {
                charts.departmentChart.destroy();
            }
            charts.departmentChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: departments.map(d => d.replace('-', ' ').toUpperCase()),
                    datasets: [{
                        label: 'Requests by Department',
                        data: deptCounts,
                        backgroundColor: '#8B0000'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: '#ffffff'
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#ffffff',
                                stepSize: 1
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#ffffff'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    }
                }
            });
        }
        function renderChangeTypeChart(requests) {
            const ctx = document.getElementById('changeTypeChart').getContext('2d');
            const changeTypes = ['modification', 'repair', 'safety', 'recall', 'warranty', 'customization'];
            const typeCounts = changeTypes.map(type => requests.filter(r => r.changeType === type).length);
            if (charts.changeTypeChart) {
                charts.changeTypeChart.destroy();
            }
            charts.changeTypeChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: changeTypes.map(t => t.charAt(0).toUpperCase() + t.slice(1)),
                    datasets: [{
                        label: 'Requests by Change Type',
                        data: typeCounts,
                        backgroundColor: '#ff6666'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    plugins: {
                        legend: {
                            labels: {
                                color: '#ffffff'
                            }
                        }
                    },
                    scales: {
                        y: {
                            ticks: {
                                color: '#ffffff'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            beginAtZero: true,
                            ticks: {
                                color: '#ffffff',
                                stepSize: 1
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    }
                }
            });
        }
        function renderCompletionTimeChart(requests) {
            const ctx = document.getElementById('completionTimeChart').getContext('2d');
            const completedRequests = requests.filter(r => r.status === 'completed' && r.completedDate);
            const priorities = ['high', 'medium', 'low'];
            const avgTimes = priorities.map(priority => {
                const priorityRequests = completedRequests.filter(r => r.priority === priority);
                if (priorityRequests.length === 0) return 0;
                const totalDays = priorityRequests.reduce((sum, req) => {
                    const start = new Date(req.date);
                    const end = new Date(req.completedDate);
                    const days = Math.round((end - start) / (1000 * 60 * 60 * 24));
                    return sum + days;
                }, 0);
                return Math.round(totalDays / priorityRequests.length);
            });
            if (charts.completionTimeChart) {
                charts.completionTimeChart.destroy();
            }
            charts.completionTimeChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['High Priority', 'Medium Priority', 'Low Priority'],
                    datasets: [{
                        label: 'Average Days to Complete',
                        data: avgTimes,
                        backgroundColor: ['#dc3545', '#ffc107', '#28a745']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: '#ffffff'
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#ffffff',
                                callback: function(value) {
                                    return value + ' days';
                                }
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#ffffff'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    }
                }
            });
        }
        // Form Functions
        function submitRequest() {
            const department = document.getElementById('department').value;
            const requestorName = document.getElementById('requestorName').value.trim();
            const requestorEmail = document.getElementById('requestorEmail').value.trim();
            const unitNumber = document.getElementById('unitNumber').value.trim();
            const model = document.getElementById('model').value.trim();
            const changeType = document.getElementById('changeType').value;
            const priority = document.getElementById('priority').value;
            const requiresDepot = document.getElementById('requiresDepot').value;
            const changeDescription = document.getElementById('changeDescription').value.trim();
            const changeReason = document.getElementById('changeReason').value.trim();
            if (!department || !requestorName || !requestorEmail || !unitNumber || !model || 
                !changeType || !priority || !requiresDepot || !changeDescription || !changeReason) {
                alert('Please fill in all required fields');
                return;
            }
            const requestId = 'CR-' + Date.now();
            const request = {
                id: requestId,
                date: new Date().toISOString().split('T')[0],
                department,
                requestor: requestorName,
                email: requestorEmail,
                phone: document.getElementById('requestorPhone').value,
                unitNumber,
                model,
                customer: document.getElementById('customerName').value,
                location: document.getElementById('currentLocation').value,
                changeType,
                priority,
                requiresDepot,
                description: changeDescription,
                reason: changeReason,
                status: 'submitted',
                assignedTo: '',
                updates: [
                    {
                        date: new Date().toISOString().split('T')[0],
                        status: 'submitted',
                        note: 'Initial request submitted',
                        user: requestorName
                    }
                ]
            };
            changeRequests.unshift(request);
            saveRequests();
            document.getElementById('successRequestNumber').textContent = requestId;
            document.getElementById('successMessage').style.display = 'block';
            setTimeout(() => {
                resetForm();
                document.getElementById('successMessage').style.display = 'none';
                switchTab('view-requests');
            }, 2000);
        }
        function resetForm() {
            document.querySelectorAll('input, select, textarea').forEach(field => {
                if (field.type === 'checkbox') {
                    field.checked = false;
                } else {
                    field.value = '';
                }
            });
        }
        // Request List Functions
        function renderRequests() {
            const container = document.getElementById('requestsList');
            const filterStatus = document.getElementById('filterStatus').value;
            const filterDepartment = document.getElementById('filterDepartment').value;
            const filterPriority = document.getElementById('filterPriority').value;
            let filtered = changeRequests.filter(req => {
                if (filterStatus !== 'all' && req.status !== filterStatus) return false;
                if (filterDepartment !== 'all' && req.department !== filterDepartment) return false;
                if (filterPriority !== 'all' && req.priority !== filterPriority) return false;
                return true;
            });
            if (filtered.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üìã</div>
                        <p>No change requests found</p>
                    </div>
                `;
                return;
            }
            container.innerHTML = filtered.map(req => {
                const priorityClass = `priority-${req.priority}`;
                const statusClass = `status-${req.status}`;
                const latestUpdate = req.updates[req.updates.length - 1];
                return `
                    <div class="request-card ${priorityClass}">
                        <div class="request-header">
                            <div class="request-number">${req.id}</div>
                            <span class="status-badge ${statusClass}">${req.status.replace('-', ' ')}</span>
                        </div>
                        <div class="request-details">
                            <div class="detail-item">
                                <div class="detail-label">Unit Number</div>
                                <div class="detail-value">${req.unitNumber}</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Model</div>
                                <div class="detail-value">${req.model}</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Department</div>
                                <div class="detail-value">${req.department.toUpperCase()}</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Priority</div>
                                <div class="detail-value">${req.priority.toUpperCase()}</div>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <div class="detail-label">Description</div>
                            <div style="color: #ccc; margin-top: 5px;">${req.description}</div>
                        </div>
                        <div class="request-actions">
                            <button onclick="viewDetails('${req.id}')">üìÑ View Details</button>
                            <button onclick="openStatusModal('${req.id}')" style="background: #007bff;">üîÑ Update Status</button>
                            <button onclick="deleteRequest('${req.id}')" style="background: #dc3545;">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                `;
            }).join('');
        }
        function filterRequests() {
            renderRequests();
        }
        function viewDetails(requestId) {
            const request = changeRequests.find(r => r.id === requestId);
            if (!request) return;
            const statusClass = `status-${request.status}`;
            let detailsHTML = `
                <div style="margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3 style="color: #ff6666; font-size: 1.3em;">${request.id}</h3>
                        <span class="status-badge ${statusClass}">${request.status.replace('-', ' ')}</span>
                    </div>
                </div>
                <div class="form-section">
                    <div class="section-title">Request Information</div>
                    <div class="request-details">
                        <div class="detail-item">
                            <div class="detail-label">Department</div>
                            <div class="detail-value">${request.department}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Requestor</div>
                            <div class="detail-value">${request.requestor}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Email</div>
                            <div class="detail-value">${request.email}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Unit Number</div>
                            <div class="detail-value">${request.unitNumber}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Model</div>
                            <div class="detail-value">${request.model}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Priority</div>
                            <div class="detail-value">${request.priority.toUpperCase()}</div>
                        </div>
                    </div>
                    <div style="margin-top: 15px;">
                        <div class="detail-label">Description</div>
                        <div style="color: #ccc; margin-top: 5px; line-height: 1.6;">${request.description}</div>
                    </div>
                    <div style="margin-top: 15px;">
                        <div class="detail-label">Reason</div>
                        <div style="color: #ccc; margin-top: 5px; line-height: 1.6;">${request.reason}</div>
                    </div>
                </div>
                <div class="form-section">
                    <div class="section-title">Status Timeline</div>
                    <div class="timeline">
                        ${request.updates.map(update => `
                            <div class="timeline-item">
                                <div class="timeline-date">${update.date}</div>
                                <div style="color: #ff6666; font-weight: 600; margin-top: 3px;">
                                    ${update.status.toUpperCase().replace('-', ' ')}
                                </div>
                                <div class="timeline-content">${update.note}</div>
                                ${update.user ? `<div style="font-size: 0.85em; color: #999; margin-top: 3px;">By: ${update.user}</div>` : ''}
                            </div>
                        `).reverse().join('')}
                    </div>
                </div>
            `;
            document.getElementById('detailsContent').innerHTML = detailsHTML;
            document.getElementById('detailsModal').style.display = 'block';
        }
        function openStatusModal(requestId) {
            currentEditId = requestId;
            const request = changeRequests.find(r => r.id === requestId);
            if (request) {
                document.getElementById('modalStatus').value = request.status;
                document.getElementById('modalAssignedTo').value = request.assignedTo || '';
                document.getElementById('modalNotes').value = '';
                document.getElementById('statusModal').style.display = 'block';
            }
        }
        function saveStatusUpdate() {
            if (!currentEditId) return;
            const newStatus = document.getElementById('modalStatus').value;
            const assignedTo = document.getElementById('modalAssignedTo').value.trim();
            const notes = document.getElementById('modalNotes').value.trim();
            if (!notes) {
                alert('Please add notes about this status update');
                return;
            }
            const requestIndex = changeRequests.findIndex(r => r.id === currentEditId);
            if (requestIndex !== -1) {
                const request = changeRequests[requestIndex];
                request.status = newStatus;
                request.assignedTo = assignedTo;
                // Add completion date if status is completed
                if (newStatus === 'completed' && !request.completedDate) {
                    request.completedDate = new Date().toISOString().split('T')[0];
                }
                request.updates.push({
                    date: new Date().toISOString().split('T')[0],
                    status: newStatus,
                    note: notes,
                    user: assignedTo || 'System'
                });
                saveRequests();
                renderRequests();
                closeModal();
            }
        }
        function deleteRequest(requestId) {
            if (confirm('Are you sure you want to delete this change request?')) {
                changeRequests = changeRequests.filter(r => r.id !== requestId);
                saveRequests();
                renderRequests();
            }
        }
        function closeModal() {
            document.getElementById('statusModal').style.display = 'none';
            currentEditId = null;
        }
        function closeDetailsModal() {
            document.getElementById('detailsModal').style.display = 'none';
        }
        // Report Functions
        function selectTemplate(templateType) {
            // Clear all selections
            document.querySelectorAll('.template-card').forEach(card => {
                card.classList.remove('selected');
            });
            // Select the clicked template
            event.target.closest('.template-card').classList.add('selected');
            // Reset all checkboxes
            document.querySelectorAll('.report-field input[type="checkbox"]').forEach(cb => {
                cb.checked = false;
            });
            // Set fields based on template
            const templates = {
                'executive': ['id', 'date', 'status', 'priority', 'department', 'unitNumber', 'model'],
                'detailed': ['id', 'date', 'status', 'priority', 'department', 'requestor', 'email', 
                            'unitNumber', 'model', 'customer', 'changeType', 'description', 'reason', 
                            'assignedTo', 'requiresDepot'],
                'department': ['id', 'date', 'department', 'requestor', 'unitNumber', 'model', 
                              'changeType', 'priority', 'status'],
                'timeline': ['id', 'date', 'status', 'unitNumber', 'model', 'priority', 'assignedTo']
            };
            const fields = templates[templateType] || [];
            fields.forEach(field => {
                const checkbox = document.getElementById(`field_${field}`);
                if (checkbox) {
                    checkbox.checked = true;
                }
            });
        }
        function toggleReportField(fieldName) {
            const checkbox = document.getElementById(`field_${fieldName}`);
            checkbox.checked = !checkbox.checked;
        }
        function getSelectedFields() {
            const fields = [];
            document.querySelectorAll('.report-field input[type="checkbox"]:checked').forEach(cb => {
                fields.push(cb.id.replace('field_', ''));
            });
            return fields;
        }
        function getFilteredRequestsForReport() {
            const filterStatus = document.getElementById('reportFilterStatus').value;
            const filterDepartment = document.getElementById('reportFilterDepartment').value;
            const filterPriority = document.getElementById('reportFilterPriority').value;
            const dateFrom = document.getElementById('reportDateFrom').value;
            const dateTo = document.getElementById('reportDateTo').value;
            let filtered = changeRequests.filter(req => {
                if (filterStatus !== 'all' && req.status !== filterStatus) return false;
                if (filterDepartment !== 'all' && req.department !== filterDepartment) return false;
                if (filterPriority !== 'all' && req.priority !== filterPriority) return false;
                if (dateFrom && req.date < dateFrom) return false;
                if (dateTo && req.date > dateTo) return false;
                return true;
            });
            return filtered;
        }
        function previewReport() {
            const fields = getSelectedFields();
            const requests = getFilteredRequestsForReport();
            if (fields.length === 0) {
                alert('Please select at least one field to include in the report');
                return;
            }
            if (requests.length === 0) {
                alert('No requests match the selected filters');
                return;
            }
            const fieldLabels = {
                'id': 'Request ID',
                'date': 'Date',
                'status': 'Status',
                'priority': 'Priority',
                'department': 'Department',
                'requestor': 'Requestor',
                'email': 'Email',
                'unitNumber': 'Unit Number',
                'model': 'Model',
                'customer': 'Customer',
                'changeType': 'Change Type',
                'description': 'Description',
                'reason': 'Reason',
                'assignedTo': 'Assigned To',
                'requiresDepot': 'Requires Depot'
            };
            let previewHTML = `
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse; font-size: 0.85em;">
                        <thead>
                            <tr style="background: #8B0000;">
                                ${fields.map(field => `<th style="padding: 10px; text-align: left; border: 1px solid #333;">${fieldLabels[field]}</th>`).join('')}
                            </tr>
                        </thead>
                        <tbody>
                            ${requests.slice(0, 10).map(req => `
                                <tr style="border-bottom: 1px solid #333;">
                                    ${fields.map(field => `
                                        <td style="padding: 10px; border: 1px solid #333;">
                                            ${req[field] || '-'}
                                        </td>
                                    `).join('')}
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
                <div style="margin-top: 15px; color: #999; font-size: 0.9em;">
                    Showing ${Math.min(10, requests.length)} of ${requests.length} requests
                </div>
            `;
            document.getElementById('reportPreviewContent').innerHTML = previewHTML;
            document.getElementById('reportPreview').style.display = 'block';
        }
        function generateCustomReport(format) {
            const fields = getSelectedFields();
            const requests = getFilteredRequestsForReport();
            if (fields.length === 0) {
                alert('Please select at least one field to include in the report');
                return;
            }
            if (requests.length === 0) {
                alert('No requests match the selected filters');
                return;
            }
            if (format === 'excel') {
                exportCustomReportToExcel(fields, requests);
            } else if (format === 'csv') {
                exportCustomReportToCSV(fields, requests);
            } else if (format === 'pdf') {
                alert('PDF export coming soon! Use Excel or CSV for now.');
            }
        }
        function exportCustomReportToExcel(fields, requests) {
            const wb = XLSX.utils.book_new();
            const fieldLabels = {
                'id': 'Request ID',
                'date': 'Date Submitted',
                'status': 'Status',
                'priority': 'Priority',
                'department': 'Department',
                'requestor': 'Requestor Name',
                'email': 'Email',
                'unitNumber': 'Unit Number',
                'model': 'Model',
                'customer': 'Customer',
                'changeType': 'Change Type',
                'description': 'Description',
                'reason': 'Reason',
                'assignedTo': 'Assigned To',
                'requiresDepot': 'Requires Depot'
            };
            // Create data array
            const data = requests.map(req => {
                const row = {};
                fields.forEach(field => {
                    row[fieldLabels[field]] = req[field] || '';
                });
                return row;
            });
            const ws = XLSX.utils.json_to_sheet(data);
            // Set column widths
            ws['!cols'] = fields.map(field => ({ wch: 20 }));
            XLSX.utils.book_append_sheet(wb, ws, 'Custom Report');
            // Add summary sheet
            const summaryData = [
                { 'Metric': 'Total Requests', 'Value': requests.length },
                { 'Metric': 'High Priority', 'Value': requests.filter(r => r.priority === 'high').length },
                { 'Metric': 'Medium Priority', 'Value': requests.filter(r => r.priority === 'medium').length },
                { 'Metric': 'Low Priority', 'Value': requests.filter(r => r.priority === 'low').length },
                { 'Metric': '', 'Value': '' },
                { 'Metric': 'Submitted', 'Value': requests.filter(r => r.status === 'submitted').length },
                { 'Metric': 'Under Review', 'Value': requests.filter(r => r.status === 'reviewed').length },
                { 'Metric': 'Approved', 'Value': requests.filter(r => r.status === 'approved').length },
                { 'Metric': 'In Progress', 'Value': requests.filter(r => r.status === 'in-progress').length },
                { 'Metric': 'Completed', 'Value': requests.filter(r => r.status === 'completed').length },
                { 'Metric': 'Rejected', 'Value': requests.filter(r => r.status === 'rejected').length }
            ];
            const wsSummary = XLSX.utils.json_to_sheet(summaryData);
            wsSummary['!cols'] = [{ wch: 25 }, { wch: 15 }];
            XLSX.utils.book_append_sheet(wb, wsSummary, 'Summary');
            const timestamp = new Date().toISOString().split('T')[0];
            XLSX.writeFile(wb, `Custom_Report_${timestamp}.xlsx`);
        }
        function exportCustomReportToCSV(fields, requests) {
            const fieldLabels = {
                'id': 'Request ID',
                'date': 'Date Submitted',
                'status': 'Status',
                'priority': 'Priority',
                'department': 'Department',
                'requestor': 'Requestor Name',
                'email': 'Email',
                'unitNumber': 'Unit Number',
                'model': 'Model',
                'customer': 'Customer',
                'changeType': 'Change Type',
                'description': 'Description',
                'reason': 'Reason',
                'assignedTo': 'Assigned To',
                'requiresDepot': 'Requires Depot'
            };
            // Create header row
            const headers = fields.map(field => fieldLabels[field]);
            // Create data rows
            const rows = requests.map(req => {
                return fields.map(field => {
                    const value = req[field] || '';
                    // Escape quotes and wrap in quotes if contains comma
                    if (typeof value === 'string' && (value.includes(',') || value.includes('"'))) {
                        return '"' + value.replace(/"/g, '""') + '"';
                    }
                    return value;
                });
            });
            // Combine headers and rows
            const csvContent = [headers.join(',')]
                .concat(rows.map(row => row.join(',')))
                .join('\n');
            // Download CSV
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            const timestamp = new Date().toISOString().split('T')[0];
            link.setAttribute('href', url);
            link.setAttribute('download', `Custom_Report_${timestamp}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        // Alerts Functions
        function renderAlerts() {
            const container = document.getElementById('alertsList');
            if (userAlerts.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">‚úÖ</div>
                        <p>No active alerts</p>
                    </div>
                `;
                return;
            }
            container.innerHTML = userAlerts.map(alert => `
                <div class="request-card">
                    <div class="request-header">
                        <div class="request-number">${alert.requestId}</div>
                        <button onclick="dismissAlert('${alert.id}')" style="background: #6c757d;">Dismiss</button>
                    </div>
                    <div style="color: #ccc; margin-top: 10px;">${alert.message}</div>
                </div>
            `).join('');
        }
        function dismissAlert(alertId) {
            userAlerts = userAlerts.filter(a => a.id !== alertId);
            saveAlerts();
            renderAlerts();
        }
        // Modal close on outside click
        window.onclick = function(event) {
            const statusModal = document.getElementById('statusModal');
            const detailsModal = document.getElementById('detailsModal');
            if (event.target === statusModal) {
                closeModal();
            }
            if (event.target === detailsModal) {
                closeDetailsModal();
            }
        }
        // Initialize on page load
        window.onload = function() {
            initializeDemoData();
            initializeTabs();
        };
 </script>
<!-- Loading Overlay -->
<div class="loading-overlay" id="loadingOverlay" style="display: none;">
    <div class="loading-spinner"></div>
</div>

<!-- Setup Modal -->
<div id="setupModal" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Google Sheets Setup</h2>
            <button class="close-modal" onclick="closeSetupModal()">Close</button>
        </div>
        
        <div class="warning-box">
            <p><strong>‚ö†Ô∏è Important:</strong> Complete Google Sheets and EmailJS setup first.</p>
            <p>See documentation for detailed instructions.</p>
        </div>

        <div class="form-section" style="border: none; padding: 20px 0;">
            <div class="form-group">
                <label>Google Apps Script Web App URL <span class="required">*</span></label>
                <input type="text" id="setupSheetUrl" placeholder="https://script.google.com/macros/s/.../exec">
            </div>
            <div class="form-group">
                <label>EmailJS Public Key <span class="required">*</span></label>
                <input type="text" id="setupEmailPublicKey" placeholder="Your EmailJS Public Key">
            </div>
            <div class="form-group">
                <label>EmailJS Service ID <span class="required">*</span></label>
                <input type="text" id="setupEmailServiceId" placeholder="Your Service ID">
            </div>
            <div class="form-group">
                <label>EmailJS Template ID <span class="required">*</span></label>
                <input type="text" id="setupEmailTemplateId" placeholder="Your Template ID">
            </div>
        </div>

        <button onclick="saveSetup()" style="width: 100%; margin-top: 15px;">üíæ Save Configuration</button>
    </div>
</div>
    
<!-- Loading Overlay -->
<div class="loading-overlay" id="loadingOverlay" style="display: none;">
    <div class="loading-spinner"></div>
</div>

<!-- Setup Modal -->
<div id="setupModal" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Google Sheets Setup</h2>
            <button class="close-modal" onclick="closeSetupModal()">Close</button>
        </div>
        
        <div class="warning-box">
            <p><strong>‚ö†Ô∏è Important:</strong> Complete Google Sheets and EmailJS setup first.</p>
            <p>See documentation for detailed instructions.</p>
        </div>

        <div class="form-section" style="border: none; padding: 20px 0;">
            <div class="form-group">
                <label>Google Apps Script Web App URL <span class="required">*</span></label>
                <input type="text" id="setupSheetUrl" placeholder="https://script.google.com/macros/s/.../exec">
            </div>
            <div class="form-group">
                <label>EmailJS Public Key <span class="required">*</span></label>
                <input type="text" id="setupEmailPublicKey" placeholder="Your EmailJS Public Key">
            </div>
            <div class="form-group">
                <label>EmailJS Service ID <span class="required">*</span></label>
                <input type="text" id="setupEmailServiceId" placeholder="Your Service ID">
            </div>
            <div class="form-group">
                <label>EmailJS Template ID <span class="required">*</span></label>
                <input type="text" id="setupEmailTemplateId" placeholder="Your Template ID">
            </div>
        </div>

        <button onclick="saveSetup()" style="width: 100%; margin-top: 15px;">üíæ Save Configuration</button>
    </div>
</div>
<script>
// Force initialization
console.log('Forcing tab initialization...');

setTimeout(function() {
    // Fix tabs
    var tabs = document.querySelectorAll('.tab');
    console.log('Found ' + tabs.length + ' tabs');
    
    tabs.forEach(function(tab) {
        tab.onclick = function(e) {
            e.preventDefault();
            var tabId = this.getAttribute('data-tab');
            console.log('Switching to tab: ' + tabId);
            
            // Remove active from all
            document.querySelectorAll('.tab').forEach(function(t) {
                t.classList.remove('active');
            });
            document.querySelectorAll('.tab-content').forEach(function(c) {
                c.classList.remove('active');
            });
            
            // Add active to clicked
            this.classList.add('active');
            var content = document.getElementById(tabId);
            if (content) {
                content.classList.add('active');
                console.log('Tab switched successfully!');
            }
        };
    });
    
    // Fix setup button
    window.showSetupModal = function() {
        console.log('Opening setup modal...');
        var modal = document.getElementById('setupModal');
        if (!modal) {
            alert('Setup modal not found. The modal HTML might be missing.');
            return;
        }
        modal.style.display = 'block';
    };
    
    console.log('‚úÖ Initialization complete!');
}, 1000);
</script>
    </body></html>
